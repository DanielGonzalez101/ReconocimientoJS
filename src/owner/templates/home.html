<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Propiedades</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .card {
            border-radius: 15px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .search-bar {
            border-radius: 50px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .add-card {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 150px;
            cursor: pointer;
        }

        .status {
            border-radius: 12px;
            padding: 5px 10px;
            color: black;
        }

        .status.available {
            background-color: #28a745;
        }

        .edit-btn,
        .delete-btn {
            width: 100%;
        }
    </style>
</head>

<body class="bg-light">
    <div class="container py-4">
        <!-- Barra de búsqueda -->
        <div class="row mb-4">
            <div class="col-12">
                <form method="GET" action="">
                    <input type="text" name="query" class="form-control search-bar" placeholder="Buscar">
                </form>
            </div>
        </div>

        <!-- Botón para registrar nueva propiedad -->
        <div class="row g-3 mb-4">
            <div class="col-md-3">
                <a href="register_property.html">
                    <div class="card add-card">
                        <h1>+</h1>
                    </div>
                </a>
            </div>
        </div>

        <!-- Contenedor dinámico de propiedades -->
        <div class="row g-3" id="property-list">
            <!-- Las propiedades se cargarán aquí dinámicamente -->
        </div>

        <!-- Plantilla de ejemplo oculta para clonar propiedades -->
        <div class="col-md-3 d-none" id="property-template">
            <div class="card p-3">
                <p><strong>Nombre:</strong> <span class="property-name"></span></p>
                <p><strong>Dirección:</strong> <span class="property-address"></span></p>
                <p><strong>Tipo:</strong> <span class="property-type"></span></p>
                <p><strong>Número apartamento:</strong> <span class="property-apartment-number"></span></p>
                <p><strong>Estado:</strong> <span class="status property-status"></span></p>
                <button class="btn btn-primary btn-sm edit-btn">Editar</button>
                <button class="btn btn-danger btn-sm delete-btn">Eliminar</button>
            </div>
        </div>
    </div>

    <script src="../src/home.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.querySelectorAll('.edit-btn').forEach(button => {
            button.addEventListener('click', handleEditProperty);
        });

        document.querySelectorAll('.delete-btn').forEach(button => {
            button.addEventListener('click', handleDeleteProperty);
        });

    </script>
</body>

</html>